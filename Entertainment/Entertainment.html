<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rajasthan Stories ‚Äì KishorCreativeLab</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Montserrat', Arial, sans-serif;
      background: #f1f5fc;
      margin: 0;
      color: #243447;
      min-height: 100vh;
    }
    nav {
      background: linear-gradient(90deg, #27408b, #337abb);
      display: flex;
      justify-content: center;
      padding: 0.8rem;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      margin: 0 1rem;
      font-weight: 600;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #ffcb05;
    }
    main {
      max-width: 850px;
      margin: 2.4rem auto 2rem;
      padding: 2rem;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 40px #aec3e7a5;
    }
    h2 {
      color: #ffb300;
      font-size: 2rem;
      margin-bottom: 1.2rem;
    }
    .rajasthan-stories article {
      margin-bottom: 2.4rem;
      padding-bottom: 1.2rem;
      border-bottom: 1px solid #e1e7f4;
    }
    h3 { color: #337abb; font-size: 1.22rem; margin: .4rem 0; }
    .story-buttons {
      margin: 0.6rem 0 0.4rem 0;
      display: flex;
      gap: 1rem;
      align-items: center;
    }
    .like-btn {
      background:#ffe066;
      border: none;
      border-radius: 6px;
      color:#27408b;
      font-weight: 700;
      cursor: pointer;
      padding: 0.2rem 1.1rem;
      font-size:1rem;
      transition: background 0.18s;
    }
    .like-btn:hover, .like-btn:focus { background: #ffd500; }
    .comments-section { margin-top:0.7rem; }
    .comments-list { padding-left: 0; }
    .comments-list li {
      background: #f6faff;
      margin-bottom: 0.3rem;
      padding: 0.4rem 0.7rem;
      border-radius: 6px;
      list-style: none;
    }
    .comment-input {
      width: 90%;
      padding: 0.4rem;
      border-radius: 6px;
      border: 1.5px solid #337abb;
      margin-right: 0.4rem;
    }
    .comment-btn {
      padding: 0.35rem 1rem;
      border-radius: 6px;
      border: none;
      background: #337abb;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    .comment-btn:hover { background: #27408b; }
    /* Additional section styling */
    section.extra {
      background: #ffffffec;
      border-radius: 14px;
      box-shadow: 0 8px 32px rgb(158 195 226 / 0.25);
      padding: 2rem;
      max-width: 850px;
      margin: 2rem auto;
    }
    section.extra h2 {
      border-bottom: 3px solid #eaeaea;
      padding-bottom: 0.3rem;
      color: #27408b;
    }
    footer {
      background: linear-gradient(90deg, #27408b, #337abb);
      color: #fff;
      padding: 1rem;
      text-align: center;
      margin-top: 2rem;
    }
    footer a {
      color: #ffe066;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <a href="index.html">üè† Home</a>
    <a href="#about">About</a>
    <a href="#contact">Contact</a>
    <a href="#donate">Donate</a>
  </nav>

  <main>
    <section>
      <h2>üìö Rajasthan Entertainment Stories</h2>
      <div class="rajasthan-stories">

        <!-- Stories (full list as in your current code) -->
        <!-- Example: Story 1 -->
        <article data-story="0">
          <h3>1. Folk Tales Reborn ‚Äì <span>"The Ballad of the Blue City"</span></h3>
          <p>In Jodhpur, old storyteller Ustad Ali was losing his audience to modern gadgets. Determined, he started narrating tales...</p>
          <div class="story-buttons">
            <button class="like-btn" onclick="likeStory(0)">üëç Like <span id="like-count-0">0</span></button>
          </div>
          <div class="comments-section">
            <ul class="comments-list" id="comments-0"></ul>
            <input class="comment-input" type="text" placeholder="Add a comment..." id="input-0" maxlength="120"/>
            <button class="comment-btn" onclick="addComment(0)">Comment</button>
          </div>
        </article>
        <!-- Repeat for stories 2‚Äì10 exactly as in your existing markup -->
        <!-- ... -->
      </div>
    </section>
  </main>

  <!-- About Section -->
  <section id="about" class="extra">
    <h2>About</h2>
    <p>KishorCreativeLab is dedicated to storytelling, creativity, and sharing Rajasthan's cultural richness. This page celebrates entertaining tales that inspire and connect communities ‚Äî both locally and around the world.</p>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="extra">
    <h2>Contact</h2>
    <p>Email: <a href="mailto:kishorcreativelab@gmail.com">kishorcreativelab@gmail.com</a></p>
    <p>GitHub: <a href="https://github.com/kishorcreativelab" target="_blank">github.com/kishorcreativelab</a></p>
  </section>

  <!-- Donation Section -->
  <section id="donate" class="extra" style="text-align:center;">
    <h2>Support My Work</h2>
    <p>If you enjoy these stories, please consider supporting my creative journey.</p>
    <a href="https://paypal.me/rnawal7742" target="_blank"
       style="display:inline-block;background-color:#ffcb05;color:#27408b;padding:0.8rem 1.6rem;border-radius:12px;font-weight:700;text-decoration:none;">
      Donate via PayPal
    </a>
  </section>

  <footer>
    &copy; 2025 KishorCreativeLab ¬∑ Bundi, Rajasthan, India ¬∑ <a href="mailto:kishorcreativelab@gmail.com">Email Me</a>
  </footer>

  <script>
    // --- Persistent Like/Comment logic using localStorage ---
    function getPersistedLikes() {
      try {
        return JSON.parse(localStorage.getItem('rajasthanLikes')) || Array(10).fill(0);
      } catch {
        return Array(10).fill(0);
      }
    }
    function setPersistedLikes(likes) {
      localStorage.setItem('rajasthanLikes', JSON.stringify(likes));
    }
    function getPersistedComments() {
      try {
        return JSON.parse(localStorage.getItem('rajasthanComments')) || Array(10).fill().map(() => []);
      } catch {
        return Array(10).fill().map(() => []);
      }
    }
    function setPersistedComments(comments) {
      localStorage.setItem('rajasthanComments', JSON.stringify(comments));
    }

    let likes = getPersistedLikes();
    let comments = getPersistedComments();

    function renderLikes() {
      for (let i = 0; i < likes.length; i++) {
        const likeCount = document.getElementById('like-count-' + i);
        if (likeCount) likeCount.textContent = likes[i];
      }
    }

    function renderAllComments() {
      for (let i = 0; i < comments.length; i++) {
        renderComments(i);
      }
    }

    function likeStory(idx) {
      likes[idx]++;
      setPersistedLikes(likes);
      document.getElementById('like-count-' + idx).textContent = likes[idx];
    }

    function addComment(idx) {
      const input = document.getElementById('input-' + idx);
      const commentText = input.value.trim();
      if (commentText.length > 0) {
        comments[idx].push(commentText);
        setPersistedComments(comments);
        renderComments(idx);
        input.value = '';
      }
    }

    function renderComments(idx) {
      const ul = document.getElementById('comments-' + idx);
      ul.innerHTML = '';
      comments[idx].forEach(comment => {
        const li = document.createElement('li');
        li.textContent = comment;
        ul.appendChild(li);
      });
    }

    renderLikes();
    renderAllComments();
  </script>
</body>
</html>
